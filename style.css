:root{
  --cell: 30px;
  --gap: 2px;

  /* Space Theme */
  --text: #e5e7eb;        /* Í∏∞Î≥∏ ÌÖçÏä§Ìä∏(Î∞ùÏùÄ ÌöåÎ∞±) */
  --muted: rgba(229,231,235,0.75); /* Î≥¥Ï°∞ ÌÖçÏä§Ìä∏ */
  --accent: #3b82f6;      /* Ìè¨Ïù∏Ìä∏(ÌååÎûë) */
  --danger: #ef4444;
  --ok: #22c55e;
}

*{ box-sizing: border-box; }
html, body{ height: 100%; }

body{
  margin: 0;
  background:
    linear-gradient(rgba(15,23,42,0.25), rgba(15,23,42,0.45)),
    url("./assets/space-bg.jpg") center / cover no-repeat fixed;
  color: var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
}

/* Î∞∞Í≤Ω Î≥¥Ï†ï(Î∞ùÍ∏∞/ÎåÄÎπÑ) */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  backdrop-filter: brightness(1.15) contrast(1.05);
}

/* UIÎäî Î∞∞Í≤Ω ÏúÑÎ°ú */
.topbar, .main, .footer, .modal{ position: relative; z-index: 1; }

/* --- Topbar --- */
.topbar{
  padding: 16px 18px;
  background: rgba(15,23,42,0.55);
  border-bottom: 1px solid rgba(15,23,42,0.12);
  backdrop-filter: blur(10px);
}

.topbar h1{
  margin: 0 0 10px 0;
  font-size: 22px;
  color: inherit;
}

.controls{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

.controls label{
  display: inline-flex;
  gap: 8px;
  align-items: center;
  color: var(--muted);
  font-size: 14px;
}

.controls select,
.controls input{
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  outline: none;
}

.controls button{
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(59,130,246,0.18);
  color: var(--text);
  cursor: pointer;
}
.controls button:hover{ background: rgba(59,130,246,0.28); }

/* --- Status --- */
.status{
  margin-top: 10px;
  display: flex;
  gap: 14px;
  align-items: center;
  flex-wrap: wrap;
  color: var(--muted);
}

.message{
  padding: 4px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  min-height: 26px;
  display: inline-flex;
  align-items: center;
  backdrop-filter: blur(10px);
}

.message.winGlow{ box-shadow: 0 0 22px rgba(76,217,100,0.30); }
.message.loseGlow{ box-shadow: 0 0 22px rgba(255,107,107,0.30); }

/* --- Main / Board --- */
.main{
  padding: 18px;
  display: grid;
  place-items: center;
}

.board{
  display: grid;
  gap: var(--gap);
  padding: 10px;
  background: rgba(30,64,175,0.85); /* cobalt */
  border: 1px solid rgba(255,255,255,0.45);
  border-radius: 16px;
  box-shadow: 0 18px 60px rgba(30,64,175,0.45);
}

/* --- Cells --- */
.cell{
  width: var(--cell);
  height: var(--cell);
  display: grid;
  place-items: center;
  user-select: none;
  border-radius: 8px;
  border: 1px solid rgba(59,130,246,0.6);
  background: rgba(219,234,254,0.95);
  color: #0f172a;
  font-weight: 700;
  cursor: pointer;
  position: relative;
}

.cell:hover{ background: rgba(255,255,255,0.12); }

.cell.open {
  background: rgba(147, 197, 253, 1); /* Îçî ÏßÑÌïú ÌïòÎäò/Î∏îÎ£® */
  border-color: rgba(29, 78, 216, 0.85); /* Í≤ΩÍ≥Ñ Í∞ïÏ°∞ */
  font-weight: 900;
  text-shadow: 0 1px 1px rgba(255,255,255,0.6);
  cursor: default;
}

.cell.mine.open{
  background: rgba(255,107,107,0.22);
  border-color: rgba(255,107,107,0.35);
}

.cell.flag::after{
  content:"üö©";
  position: absolute;
  font-size: 16px;
}
.cell.qmark::after{
  content:"‚ùì";
  position: absolute;
  font-size: 16px;
}

/* Numbers */
.num-1{ color: #1d4ed8; }
.num-2{ color: #15803d; }
.num-3{ color: #b91c1c; }
.num-4{ color: #4338ca; }
.num-5{ color: #92400e; }
.num-6{ color: #0e7490; }
.num-7{ color: #701a75; }
.num-8{ color: #111827; }

/* --- Footer --- */
.footer{
  padding: 14px 18px;
  color: rgba(255,255,255,0.85);
  display: flex;
  gap: 14px;
  justify-content: center;
  border-top: 1px solid rgba(255,255,255,0.15);
  background: rgba(255,255,255,0.08);
}

/* --- Link style button --- */
.linkbtn{
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  cursor: pointer;
}
.linkbtn:hover{ background: rgba(255,255,255,0.10); }

/* --- Animations --- */
.cell.pressed{ transform: scale(0.96); transition: transform 60ms; }
.cell.hintFlash{ animation: hintFlash 420ms ease-out 1; }

@keyframes hintFlash{
  0%{ box-shadow: 0 0 0 rgba(59,130,246,0.0); }
  40%{ box-shadow: 0 0 18px rgba(59,130,246,0.55); }
  100%{ box-shadow: 0 0 0 rgba(59,130,246,0.0); }
}

.cell.explode{ animation: explode 520ms ease-out 1; }
@keyframes explode{
  0%{ transform: scale(1); filter: saturate(1); }
  30%{ transform: scale(1.10); filter: saturate(1.5); }
  100%{ transform: scale(1); filter: saturate(1); }
}

/* --- Confetti --- */
.confetti{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 999;
}
.confetti i{
  position: absolute;
  top: -10px;
  width: 10px;
  height: 14px;
  opacity: 0.9;
  border-radius: 2px;
  animation: fall 1200ms linear forwards;
}
@keyframes fall{
  to{ transform: translateY(110vh) rotate(480deg); opacity: 0.0; }
}

/* --- Modal --- */
.modal{
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(0,0,0,0.55);
  z-index: 1000;
}
.modal.hidden{ display: none; }

.modal__panel{
  width: min(560px, calc(100vw - 24px));
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(18,26,51,0.96);
  box-shadow: 0 20px 80px rgba(0,0,0,0.45);
  padding: 14px;
  color: #ffffff;
  backdrop-filter: blur(10px);
}

.modal__header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  padding: 4px 6px 10px;
}
.modal__title{ font-weight: 800; }

.modal__close{
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: #ffffff;
  cursor: pointer;
  padding: 6px 10px;
}
.modal__close:hover{ background: rgba(255,255,255,0.10); }

.modal__meta{
  color: rgba(255,255,255,0.75);
  font-size: 13px;
  padding: 0 6px 10px;
}

.leaderboard{
  margin: 0;
  padding: 0 0 0 22px;
  display: grid;
  gap: 8px;
}
.leaderboard li{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.05);
  display:flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}
.lb-name{ font-weight: 800; color: var(--accent); }
.lb-time{ font-weight: 800; color: var(--accent); }
.lb-date{ color: rgba(255,255,255,0.75); font-size: 12px; }

.modal__footer{
  display:flex;
  gap: 10px;
  justify-content: flex-end;
  padding-top: 12px;
}
.modal__footer button{
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.06);
  color: #ffffff;
  cursor: pointer;
}
.modal__footer button:hover{ background: rgba(255,255,255,0.10); }

.modal__footer .danger{
  background: rgba(255,107,107,0.14);
  border-color: rgba(255,107,107,0.25);
}
.modal__footer .danger:hover{
  background: rgba(255,107,107,0.22);
}

/* --- Toast --- */
.toast{
  position: fixed;
  left: 50%;
  bottom: 18px;
  transform: translateX(-50%);
  padding: 10px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(18,26,51,0.92);
  color: #ffffff;
  z-index: 1200;
  box-shadow: 0 14px 50px rgba(0,0,0,0.35);
}
.toast.hidden{ display:none; }

@media (max-width: 520px){
  :root{ --cell: 26px; }
}

/* ÌûåÌä∏ Î™®Îìú: ? ÌëúÏãú Ïπ∏ÏùÑ ÏÇ¥Ïßù Í∞ïÏ°∞ */
.board.hintMode .cell.qmark {
  outline: 2px solid rgba(59,130,246,0.85);
  box-shadow: 0 0 16px rgba(59,130,246,0.35);
}
